<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JKQTPlotter: Build using CMake</title>
<meta name="description" content="an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies">
<meta name="keywords" lang="en-us" content="C++, C++11, Qt, Qt5, Qt6, Plotting, Plot, Chart, Graph, Qt, Widget, C++, Library, Visualization, charting library, plotting library, scientific visualization, data visualization, statistics, statistical methods, statistics library, LaTeX parser, LaTeX renderer, Qt widget, Qt5 widget, Qt6 widget, Qt charts, Qt plots, barchart, violinplot, boxplot, JKQtPlotter, JKQTMathText, JKQTFastPlotter">
<meta name="author" content="$author">
<meta name="copyright" content="(c) 2008-2022 by $author">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="jkqtplotter_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_doxygen.png"/></td>
  <td id="projectalign">
   <div id="projectname">JKQTPlotter<span id="projectnumber">&#160;trunk/v5.0.0</span>
   </div>
   <div id="projectbrief">an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('page_buildinstructions__c_m_a_k_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Build using CMake </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#page_buildinstructions_CMAKE_RUN">Running a Build with CMake</a><ul><li class="level2"><a href="#page_buildinstructions_CMAKE_MAKEFILE">Building with MinGW/GNU/... Makefiles</a></li>
<li class="level2"><a href="#page_buildinstructions_CMAKE_VSTUDIO">Building with Visual Studio</a></li>
</ul>
</li>
<li class="level1"><a href="#page_buildinstructions_CMAKE_CONFIG">Configuring a Build with CMake</a></li>
<li class="level1"><a href="#page_buildinstructions_CMAKE_USAGE">Using a built, generated with CMake</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="page_buildinstructions_CMAKE_RUN"></a>
Running a Build with CMake</h1>
<p >The preferred way to build <a class="el" href="class_j_k_q_t_plotter.html" title="plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)">JKQTPlotter</a> is using <a href="https://cmake.org/">CMake</a>. You can find a detailed explanation of CMake at <a href="https://cliutils.gitlab.io/modern-cmake/">https://cliutils.gitlab.io/modern-cmake/</a>. The CMake-build is defined in <code>CMakeLists.txt</code> files, found in many of the directories of the code repository. Especially in the root directory and the two subdirectories <code> ./lib/ </code> and <code> ./examples/ </code> .</p>
<p >You can build <a class="el" href="class_j_k_q_t_plotter.html" title="plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)">JKQTPlotter</a> (and also the examples) by either opening the file <a href="https://github.com/jkriege2/JKQtPlotter/blob/master/CMakeLists.txt">CMakeLists.txt</a> in QTCreator (which has CMake integration), or by calling <code>CMake</code> by hand. How to do this depends on your local system und build environment.</p>
<h2><a class="anchor" id="page_buildinstructions_CMAKE_MAKEFILE"></a>
Building with MinGW/GNU/... Makefiles</h2>
<p >You can use (MinGW) Makefiles by calling:</p>
<div class="fragment"><div class="line">$ mkdir build</div>
<div class="line">$ cd build</div>
<div class="line">$ cmake .. -G &quot;MinGW Makefiles&quot; &quot;-DCMAKE_PREFIX_PATH=&lt;path_to_your_qt_sources&gt;&quot;</div>
<div class="line">$ cmake --build . --config &quot;Debug&quot;</div>
<div class="line">$ cmake --build . --config &quot;Debug&quot; --target install</div>
</div><!-- fragment --><h2><a class="anchor" id="page_buildinstructions_CMAKE_VSTUDIO"></a>
Building with Visual Studio</h2>
<p >For Visual Studio it could look like this:</p>
<div class="fragment"><div class="line">$ mkdir build</div>
<div class="line">$ cd build</div>
<div class="line">$ cmake .. -G &quot;Visual Studio 15 2017 Win64&quot; &quot;-DCMAKE_PREFIX_PATH=&lt;path_to_your_qt_sources&gt;&quot;</div>
</div><!-- fragment --><p >Where <code>&lt;path_to_your_qt_sources&gt;</code> could be e.g. <code>C:/development/Qt5/5</code>.12.0/msvc2017_64 . This call results in a Visual Studio solution <code>build/JKQTPlotter.sln</code> that you can load and compile from the Visual Studio IDE. Alternatively you can also build the solution directly calling: </p><div class="fragment"><div class="line">$ cmake --build . --config &quot;Debug&quot;</div>
</div><!-- fragment --><p> Afterwards you can install the library by </p><div class="fragment"><div class="line">$ cmake --build . --config &quot;Debug&quot; --target install</div>
</div><!-- fragment --><h1><a class="anchor" id="page_buildinstructions_CMAKE_CONFIG"></a>
Configuring a Build with CMake</h1>
<p >The CMake build system offers several configuration variables that you may set/change to modify the outcome of the build:</p><ul>
<li><code>CMAKE_PREFIX_PATH</code> : add the path to your Qt installatrion to this variable, so the <code>find_package(Qt5...)</code> commands find the libraries you want to use</li>
<li><code>JKQtPlotter_BUILD_SHARED_LIBS</code> : Build as shared library (default: <code>ON</code> )</li>
<li><code>JKQtPlotter_BUILD_STATIC_LIBS</code> : Build as static library (default: <code>ON</code> )</li>
<li><code>JKQtPlotter_BUILD_INCLUDE_XITS_FONTS</code> : Include XITS fonts as resources in library (default: <code>ON</code> )</li>
<li><code>JKQtPlotter_BUILD_FORCE_NO_PRINTER_SUPPORT</code> : switches off print-support (when set to <code>ON</code> ), even if the current platform supports it (default: <code>OFF</code> )</li>
<li><code>JKQtPlotter_BUILD_DECORATE_LIBNAMES_WITH_BUILDTYPE</code> : If set, the build-type is appended to the library name (default: <code>ON</code> )</li>
<li><code>JKQtPlotter_BUILD_WITH_PRECOMPILED_HEADERS</code> : If set, the build uses precompiled headers to speed up (a bit) (default: <code>ON</code> )</li>
<li><code>JKQtPlotter_BUILD_EXAMPLES</code> : Build examples (default: <code>ON</code> )</li>
<li><code>CMAKE_INSTALL_PREFIX</code> : Install directory for the library</li>
</ul>
<h1><a class="anchor" id="page_buildinstructions_CMAKE_USAGE"></a>
Using a built, generated with CMake</h1>
<p >After building and installing <a class="el" href="class_j_k_q_t_plotter.html" title="plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)">JKQTPlotter</a> you have all files that you need inside the instal directory:</p><ul>
<li><code>&lt;INSTALLDIR&gt;/include</code> contains all required header files</li>
<li><code>&lt;INSTALLDIR&gt;/bin</code> contains the shared libraries</li>
<li><code>&lt;INSTALLDIR&gt;/lib</code> contains the link libraries</li>
<li><code>&lt;INSTALLDIR&gt;/lib/cmake</code> contains files necessary for CMake's <code>find_package()</code> to work</li>
</ul>
<p >You can find an example project that uses a complete cmake-build here: <a class="el" href="_j_k_q_t_c_make_link_example.html">Example (JKQTPlotter): CMake Example</a> (online: <a href="https://github.com/jkriege2/JKQtPlotter/blob/master/examples/cmake_link_example">https://github.com/jkriege2/JKQtPlotter/blob/master/examples/cmake_link_example</a>).</p>
<p >Here is the <code>CMakeLists.txt</code> from that directory:</p>
<div class="fragment"><div class="line"># set minimum required CMake-Version</div>
<div class="line">cmake_minimum_required(VERSION 3.10)</div>
<div class="line"> </div>
<div class="line"># set Project name</div>
<div class="line">set(EXAMPLE_NAME simpletest)</div>
<div class="line">set(EXENAME jkqtptest_${EXAMPLE_NAME})</div>
<div class="line">project(${EXAMPLE_NAME} LANGUAGES CXX)</div>
<div class="line"> </div>
<div class="line"># some basic configurations</div>
<div class="line">set(CMAKE_AUTOMOC ON)</div>
<div class="line">set(CMAKE_INCLUDE_CURRENT_DIR ON)</div>
<div class="line">set(CMAKE_CXX_STANDARD 11)</div>
<div class="line">#set(CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS ON)</div>
<div class="line"> </div>
<div class="line"># Configure project for usage of Qt5</div>
<div class="line">find_package(Qt5 COMPONENTS Core Gui Widgets PrintSupport Svg Xml OpenGl REQUIRED)</div>
<div class="line"># Configure project for usage of Qt6</div>
<div class="line">#find_package(Qt6 COMPONENTS Core Gui Widgets PrintSupport Svg Xml OpenGl OpenGLWidgets REQUIRED)</div>
<div class="line"> </div>
<div class="line"># include JKQTPlotter</div>
<div class="line">find_package(JKQTCommonLib REQUIRED)</div>
<div class="line">find_package(JKQTMathTextLib REQUIRED)</div>
<div class="line">find_package(JKQTPlotterLib REQUIRED)</div>
<div class="line"> </div>
<div class="line"># For Visual Studio, we need to set some additional compiler options</div>
<div class="line">if(MSVC)</div>
<div class="line">  add_compile_options(/EHsc)</div>
<div class="line">  # To enable M_PI, M_E,...</div>
<div class="line">  add_definitions(/D_USE_MATH_DEFINES)</div>
<div class="line">  # To Prevent Errors with min() and max()</div>
<div class="line">  add_definitions(/DNOMINMAX)</div>
<div class="line">  # To fix error: C2338: va_start argument must not</div>
<div class="line">  # have reference type and must not be parenthesized</div>
<div class="line">  add_definitions(/D_CRT_NO_VA_START_VALIDATION)</div>
<div class="line">endif()</div>
<div class="line"> </div>
<div class="line"># add the example executable </div>
<div class="line">add_executable(${EXENAME} WIN32 simpletest.cpp)</div>
<div class="line"># ... link against Qt5 and JKQTPlotterLib</div>
<div class="line">#    (you could use JKQTPlotterSharedLib if you don&#39;t want to link againast the </div>
<div class="line">#     static version, but against the shared/DLL version).</div>
<div class="line">target_link_libraries(${EXENAME} Qt5::Core Qt5::Widgets Qt5::Gui Qt5::PrintSupport Qt5::Svg Qt5::Xml JKQTPlotterLib)</div>
<div class="line"> </div>
<div class="line"># Installation</div>
<div class="line">install(TARGETS ${EXENAME} RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR})</div>
</div><!-- fragment --><p >To build this example, you first need to make a subdirectory <code>build</code> and then call CMake form that subdirectory: </p><div class="fragment"><div class="line">$ mkdir build</div>
<div class="line">$ cd build</div>
<div class="line">$ cmake .. -G &quot;&lt;GENERATOR&gt;&quot; &quot;-DCMAKE_PREFIX_PATH=&lt;path_to_your_qt_sources&gt; -DCMAKE_MODULE_PATH=&lt;path_to_lib/cmake_dir_of_JKQTPLOTTER&gt;&quot;</div>
</div><!-- fragment --><p> The you can use the generated makefiles (e.g. load them in an editor, or build them jsing <code>make</code> ). In the last line above, you need to specify two directories:</p><ul>
<li><code>&lt;path_to_your_qt_sources&gt;</code> points to you Qt installation</li>
<li><code>&lt;path_to_lib/cmake_dir_of_JKQTPLOTTER&gt;</code> points to the directory containing the <code>XYZ.cmake</code> -files from the <a class="el" href="class_j_k_q_t_plotter.html" title="plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)">JKQTPlotter</a> build. Typically this is <code>&lt;JKQTPLOTTER_INSTALL_DIR&gt;/lib/cmake</code> , where <code>&lt;JKQTPLOTTER_INSTALL_DIR&gt;</code> is the directory into which you installed <a class="el" href="class_j_k_q_t_plotter.html" title="plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)">JKQTPlotter</a>.</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="page_buildinstructions.html">Build Instructions</a></li>
    <li class="footer">Generated on Fri Aug 26 2022 10:46:16 for JKQTPlotter by <a href="https://www.doxygen.org/index.html">doxygen</a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
