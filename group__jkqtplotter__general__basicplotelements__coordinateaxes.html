<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JKQTPlotter: Coordinate Axes</title>
<meta name="description" content="an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies">
<meta name="keywords" lang="en-us" content="C++, C++11, Qt, Qt5, Qt6, Plotting, Plot, Chart, Graph, Qt, Widget, C++, Library, Visualization, charting library, plotting library, scientific visualization, data visualization, statistics, statistical methods, statistics library, LaTeX parser, LaTeX renderer, Qt widget, Qt5 widget, Qt6 widget, Qt charts, Qt plots, barchart, violinplot, boxplot, JKQtPlotter, JKQTMathText, JKQTFastPlotter">
<meta name="author" content="$author">
<meta name="copyright" content="(c) 2008-2022 by $author">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="jkqtplotter_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_doxygen.png"/></td>
  <td id="projectalign">
   <div id="projectname">JKQTPlotter<span id="projectnumber">&#160;trunk/v5.0.0</span>
   </div>
   <div id="projectbrief">an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__jkqtplotter__general__basicplotelements__coordinateaxes.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Coordinate Axes<div class="ingroups"><a class="el" href="group__jkqtplotter.html">JKQTPlotter: Qt based Scientific Plotter Class</a> &raquo; <a class="el" href="group__jkqtplotter__general.html">General Information</a> &raquo; <a class="el" href="group__jkqtplotter__general__basicplotelements.html">Non-Graph Plot Elements</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Coordinate Axes:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__jkqtplotter__general__basicplotelements__coordinateaxes.svg" width="434" height="39"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<p >Class derived from <a class="el" href="class_j_k_q_t_p_coordinate_axis.html" title="this virtual class is the base for any type of coordinate axis, to be drawn by JKQTBasePlotter.">JKQTPCoordinateAxis</a> implements all the functionality needed for a coordinate axis:</p><ul>
<li>transform world to screen coordinates and vice versa</li>
<li>draw the axis (implemented by child classes!) with these elements: axis lines, ticks, tick labels, axis label, x/y=0 axis</li>
<li>measure the axes in screen coordinates</li>
<li>load and save the settings to an ini file</li>
</ul>
<p >Most of the actual draw and measure functions have to be implemented in descendents of this class (namely <a class="el" href="class_j_k_q_t_p_horizontal_axis.html" title="implements a horizontal axis, based on JKQTPCoordinateAxis (for most of documentation: see JKQTPCoord...">JKQTPHorizontalAxis</a> and <a class="el" href="class_j_k_q_t_p_vertical_axis.html" title="implements a vertical axis, based on JKQTPCoordinateAxis (for most of documentation: see JKQTPCoordin...">JKQTPVerticalAxis</a>, as they are specific to whether the axis is drawn horizontally or vertically.</p>
<p >Each axis is split up into several parts, as depicted in this image:</p>
<div class="image">
<img src="jkqtpcoordinateaxis1.png" alt=""/>
</div>
<p >Which parts to actually draw is set by the diverse properties.</p>
<h1><a class="anchor" id="jkqtplotter_base_systems_baseelements"></a>
Coordinate Systems and Transformations</h1>
<p >The plot itself is positioned inside the widget (see <a class="el" href="class_j_k_q_t_base_plotter.html#jkqtplotter_base_plotsize">Plot Sizes &amp; Borders</a> for details). You simply supply the widget dimensions and the border widths between the plot and the widget. The Object then calculates the size of the plot:</p>
<div class="image">
<img src="plot_widget_orientation.png" alt=""/>
</div>
<p >The plot shows the parameter range xmin ... xmax and ymin ... ymax. Note that if you plot logarithmic plots you may only plot positive (&gt;0) values. Any other value may lead to an error or unpredictable behaviour.</p>
<p >From these parameters the object calculates the scaling laws for plotting pints to the screen. The next paragraphs show all calculations for x- and y-coordinates, ahough this class only implements a generic form. The actual calculation is also influenced by the parameters set in the child classes!</p>
<ol type="1">
<li><code>width = xmax - xmin</code></li>
<li><code>height = ymax - ymin</code></li>
<li><code>plotWidth = widgetWidth - plotBorderLeft - plotBorderRight</code></li>
<li><code>plotHeight = widgetHeight - plotBorderTop - plotBorderBottom</code></li>
<li><code>xPlotOffset = plotBorderLeft</code></li>
<li><code>yPlotOffset = plotBorderTop</code></li>
</ol>
<p >These parameters are common to all scaling laws. The next image explains these formulas:</p>
<div class="image">
<img src="plot_coordinates.png" alt=""/>
</div>
<p >The actual scaling laws <img class="formulaInl" alt="$ (x_p(x), y_p(y)) $" src="form_217.png" width="94" height="18"/> may be derived from these equations: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ x_p(\mbox{xmin})=\mbox{xPlotOffset},\ \ \ \ \ x_p(\mbox{xmax})=\mbox{xPlotOffset}+\mbox{plotWidth} \]" src="form_218.png" width="465" height="18"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ y_p(\mbox{ymax})=\mbox{yPlotOffset},\ \ \ \ \ y_p(\mbox{ymin})=\mbox{yPlotOffset}+\mbox{plotHeight} \]" src="form_219.png" width="463" height="18"/>
</p>
<p> Here <img class="formulaInl" alt="$ (x_p, y_p) $" src="form_220.png" width="50" height="18"/> denotes a point in pixel coordinates (green coordinate system) and <img class="formulaInl" alt="$ (x,y) $" src="form_211.png" width="36" height="18"/> denotes a point in the plotting coordinate system.</p>
<p >If you assume a <b>linear scaling law</b>. </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ x_p(x)=\mbox{xoffset}+x\cdot\mbox{xscale} \ \ \ \ \ \ \ \ \ y_p(y)=\mbox{yoffset}-y\cdot\mbox{yscale} \]" src="form_221.png" width="424" height="18"/>
</p>
<p> you can derive: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mbox{xscale}=\frac{\mbox{plotWidth}}{\mbox{xwidth}},\ \ \ \ \ \ \mbox{xoffset}=\mbox{xPlotOffset}-\mbox{xmin}\cdot\mbox{xscale} \]" src="form_222.png" width="437" height="36"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mbox{yscale}=\frac{\mbox{plotHeight}}{\mbox{ywidth}},\ \ \ \ \ \ \mbox{yoffset}=\mbox{yPlotOffset}+\mbox{ymax}\cdot\mbox{yscale} \]" src="form_223.png" width="442" height="39"/>
</p>
<p >If you have a <b>logarithmic axis</b> (i.e. we plot <img class="formulaInl" alt="$ \log_b(x) $" src="form_224.png" width="49" height="18"/> insetad of <img class="formulaInl" alt="$ x $" src="form_83.png" width="10" height="8"/> for a given base <img class="formulaInl" alt="$ b $" src="form_129.png" width="7" height="13"/> ) we get the same formulas, but with <img class="formulaInl" alt="$ x $" src="form_83.png" width="10" height="8"/> exchanged by <img class="formulaInl" alt="$ \log_b(x) $" src="form_224.png" width="49" height="18"/>. If we use the equation <img class="formulaInl" alt="$ \log_b(x)=\log(x)/\log(b) $" src="form_225.png" width="166" height="18"/> we finally get the scaling laws: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ x_p(x)=\mbox{xoffset}+\frac{\log(x)}{\log(\mbox{logXAxisBase})}\cdot\mbox{xscale} \ \ \ \ \ \ \ \ \ y_p(y)=\mbox{yoffset}-\frac{\log(y)}{\log(\mbox{logYAxisBase})}\cdot\mbox{yscale} \]" src="form_226.png" width="629" height="41"/>
</p>
<p> From these we can calculate their parameters with the same defining equations as above: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mbox{xscale}=\frac{\mbox{plotWidth}\cdot\log(\mbox{logXAxisBase})}{\log(\mbox{xmax})-\log(\mbox{xmin})},\ \ \ \ \ \ \mbox{xoffset}=\mbox{xPlotOffset}-\frac{\log(\mbox{xmin})}{\log(\mbox{logXAxisBase})}\cdot\mbox{xscale} \]" src="form_227.png" width="657" height="41"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mbox{yscale}=\frac{\mbox{plotHeight}\cdot\log(\mbox{logYAxisBase})}{\log(\mbox{ymax})-\log(\mbox{ymin})},\ \ \ \ \ \ \mbox{yoffset}=\mbox{yPlotOffset}+\frac{\log(\mbox{ymax})}{\log(\mbox{logYAxisBase})}\cdot\mbox{yscale} \]" src="form_228.png" width="653" height="41"/>
</p>
<p >The object implements the above coordinate transformations in the (inline) method x2p(). The inverse transformations are implemented in p2x(). They can be used to show the system coordinates of the current mouse position.</p>
<h1><a class="anchor" id="jkqtplotter_coordinateaxes_inverted"></a>
Inverted Coordinate Axes</h1>
<p >In some cases it may be necessary to invert the direction of increasing coordinates on an axis. One such case is image analysis, as computer images usually have coordinates starting with (0,0) at the top left and increasing to the right (x) and down (y). You can invert any axis by setting <code>setInverted(true)</code>.</p>
<div class="image">
<img src="jkqtplotter_inverted_yaxis.png" alt=""/>
</div>
<dl class="section see"><dt>See also</dt><dd>You can find example here: <a class="el" href="_j_k_q_t_plotter_image_plot_q_image_r_g_b.html">Example (JKQTPlotter): QImage as a Graph</a> and <a class="el" href="_j_k_q_t_plotter_image_plot_r_g_b_open_c_v.html">Example (JKQTPlotter): Simple RGB image plot, showing a 3-channel OpenCV cv::Mat</a></dd></dl>
<h1><a class="anchor" id="jkqtplotter_base_grids_baseelemenets"></a>
Axis Ticks and Grids</h1>
<p >This section explains how this component draws the ticks on coordinate axes and the grids that may be drawn below the plots. In principle both - grids and axes - are drawn the same way, i.e. with the same step widths. There are two types of ticks and grids: The major and the minor ticks/grids. The major ticks also show a label that denotes the value they represent. Between two major ticks the axis shows <em><a class="el" href="class_j_k_q_t_p_coordinate_axis_style.html#a52d0845f921ff681117acd29381f0d07" title="number of minor grid lines per axis tick interval">JKQTPCoordinateAxisStyle::minorTicks</a></em> small ticks that are not accompanied by a label. The next image shows an example of an axis:</p>
<div class="image">
<img src="plot_axis_ticksandlabels.png" alt=""/>
</div>
<p >For the labels this class also uses an algorithm that extimates the number of valid digits (after the comma) that are needed so that two adjacent labels do not show the same text, so if you plot the range 1.10 .. 1.15 The algorithm will show at least two valid digits, as with one digit the labels would be 1.1, 1.1, 1.1, 1.1, 1.1, 1.1. With two digits they are 1.10, 1.11, 1.12, 1.13, 1.14, 1.15. The class may also use a method that can write <code>1m</code> instead of <code>0.001</code> and <code>1k</code> instead of <code>1000</code> (the algorithm supports the "exponent letters" f, p, n, u, m, k, M, G, T, P. The latter option may (de)activated by using showXExponentCharacter and showYExponentCharacter.</p>
<p >For grids applies the same. There are two grids that are drawn in different styles (often the major grid is drawn thicker and darker than the minor grid).</p>
<p >The minor ticks and grid lines are generated automatically, depending in the setting of <em><a class="el" href="class_j_k_q_t_p_coordinate_axis_style.html#a52d0845f921ff681117acd29381f0d07" title="number of minor grid lines per axis tick interval">JKQTPCoordinateAxisStyle::minorTicks</a></em>. These properties give the number of minor ticks between two major ticks, so if the major ticks are at 1,2,3,... and you want minor ticks at 1.1, 1.2, 1.3,... then you will have to set <code><a class="el" href="class_j_k_q_t_p_coordinate_axis_style.html#a52d0845f921ff681117acd29381f0d07" title="number of minor grid lines per axis tick interval">JKQTPCoordinateAxisStyle::minorTicks</a>=9</code> as there are nine ticks between two major ticks. So the minor tick spacing is calculated as: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \Delta\mbox{MinorTicks}=\frac{\Delta\mbox{ticks}}{\mbox{minorTicks}+1} \]" src="form_229.png" width="226" height="37"/>
</p>
<p >The same applies for logarithmic axes. If the major ticks are at 1,10,100,... and you set <code><a class="el" href="class_j_k_q_t_p_coordinate_axis_style.html#a52d0845f921ff681117acd29381f0d07" title="number of minor grid lines per axis tick interval">JKQTPCoordinateAxisStyle::minorTicks</a>=9</code> the program will generate 9 equally spaced minor ticks in between, so you have minor ticks at 2,3,4,...,11,12,13,... This results in a standard logarithmic axis. If you set <code><a class="el" href="class_j_k_q_t_p_coordinate_axis_style.html#a52d0845f921ff681117acd29381f0d07" title="number of minor grid lines per axis tick interval">JKQTPCoordinateAxisStyle::minorTicks</a>=1</code> then you will get minor ticks at 5,15,150,...</p>
<div class="image">
<img src="plot_logaxis_ticksandlabels.png" alt=""/>
</div>
<p >The major tick-tick distances of linear axes may be calculated automatically in a way that the axis shows at least a given number of ticks <code><a class="el" href="class_j_k_q_t_p_coordinate_axis_style.html#a0c1d410889cbc56225888bc6ed4f6de8" title="minimum number of axis ticks">JKQTPCoordinateAxisStyle::minTicks</a></code>. The algorithm takes that tick spacing that will give a number of ticks per axis nearest but <code>"&gt;="</code> to the given <code><a class="el" href="class_j_k_q_t_p_coordinate_axis_style.html#a0c1d410889cbc56225888bc6ed4f6de8" title="minimum number of axis ticks">JKQTPCoordinateAxisStyle::minTicks</a></code>. The Algorithm is described in detail with the function calcLinearTickSpacing(). To activate this automatic tick spacing you have to set <code>autoAxisSpacing=true</code>.</p>
<h1><a class="anchor" id="jkqtplotter_coordinateaxes_tickscaling"></a>
Axis Tick Units/Scaling</h1>
<p >In some cases it is desired to put the axis ticks not at 1,2,3,... but rather at <img class="formulaInl" alt="$ 1\pi $" src="form_230.png" width="18" height="11"/> , <img class="formulaInl" alt="$ 2\pi $" src="form_231.png" width="18" height="11"/> , <img class="formulaInl" alt="$ 3\pi $" src="form_232.png" width="20" height="11"/> or any other unit than <img class="formulaInl" alt="$ pi $" src="form_233.png" width="15" height="15"/> ,i.e.:</p>
<div class="image">
<img src="axis_unit_scaling_none.png" alt=""/>
<div class="caption">
no axis scaling (default case)</div></div>
 <div class="image">
<img src="axis_unit_scaling_pi.png" alt=""/>
<div class="caption">
pi-axis scaling (default case)</div></div>
<p >You can use these methods to set such a factor:</p><ul>
<li>setTickUnitFactor() for the actual factor and setTickUnitName() for a name, added to the tick label</li>
<li>setTickUnit() sets factor and name in one call</li>
<li>setTickUnitPi() shortcut to set pi-scaling</li>
<li>resetTickUnit() resets to no-scaling (default case)</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Sep 27 2022 23:49:26 for JKQTPlotter by <a href="https://www.doxygen.org/index.html">doxygen</a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
